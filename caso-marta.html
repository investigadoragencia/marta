<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Caso Marta ‚Äì Painel</title>
<style>
:root{
  --bg:#071022; --panel:#0b1220; --accent:#00d4b4; --muted:#98a8b6; --text:#e6eef8; --glass:rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:Inter,system-ui,Roboto,Arial,sans-serif;
  background:linear-gradient(180deg,#071022 0%, #071733 100%);
  color:var(--text);padding:12px;display:flex;justify-content:center;
}
.wrap{max-width:520px;width:100%}
.header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;gap:12px}
.brand{display:flex;flex-direction:column}
.brand h1{margin:0;color:var(--accent);font-size:18px}
.brand p{margin:2px 0 0;color:var(--muted);font-size:13px}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:14px;box-shadow:0 12px 40px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.02)}
.quick{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:12px}
.quick button{background:var(--panel);border-radius:10px;padding:12px;border:1px solid rgba(255,255,255,0.02);cursor:pointer;color:var(--muted);display:flex;flex-direction:column;gap:6px;align-items:flex-start}
.quick button strong{color:var(--accent);font-size:14px}
.section{margin-top:8px}
.stack{display:flex;flex-direction:column;gap:10px}
.step{background:var(--panel);border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.02);cursor:pointer}
.step h3{margin:0;color:var(--accent);font-size:15px}
.step .meta{display:none;margin-top:8px;color:var(--muted);font-size:13px;background:var(--glass);padding:8px;border-radius:8px}
.step.open .meta{display:block;animation:fade .18s}
@keyframes fade{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:none}}
.section-title{display:flex;align-items:center;justify-content:space-between}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px;margin-top:10px}
.thumb{background:var(--panel);border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.02);text-align:center}
.thumb img{width:100%;height:92px;object-fit:cover;display:block}
.thumb p{margin:8px;color:var(--muted);font-size:12px}
.contract{margin-top:12px;background:var(--panel);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
.canvas-mini{width:100%;height:120px;border-radius:8px;border:1px dashed rgba(255,255,255,0.06);background:var(--glass);margin-top:8px}
.controls{display:flex;gap:8px;margin-top:10px}
.btn{flex:1;padding:10px;border-radius:10px;border:0;background:var(--accent);color:#021018;font-weight:700;cursor:pointer}
.btn.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);font-weight:600}
.signature-preview{margin-top:10px;border-radius:8px;overflow:hidden}
.signature-preview img{width:100%;display:block}
.footer{margin-top:12px;text-align:center;color:var(--muted);font-size:12px}
@media (max-width:420px){.thumb img{height:86px}}
</style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">
        <h1>Ag√™ncia Investigador</h1>
        <p>Painel ‚Äî Caso Marta</p>
      </div>
      <div style="display:flex;gap:8px">
        <button id="btnLogout" class="btn secondary" style="padding:8px 10px">Sair</button>
      </div>
    </div>

    <div class="card">
      <!-- quick highlights -->
      <div class="quick">
        <button id="openTimeline">
          <strong>üïµÔ∏è Etapas</strong>
          <span style="font-size:12px;color:var(--muted)">Timeline interativa</span>
        </button>
        <button id="openGallery">
          <strong>üì∏ Evid√™ncias</strong>
          <span style="font-size:12px;color:var(--muted)">Fotos & documentos</span>
        </button>
        <button id="openContract">
          <strong>üñãÔ∏è Contrato</strong>
          <span style="font-size:12px;color:var(--muted)">Assinar autoriza√ß√£o</span>
        </button>
        <button id="btnConfig" class="secondary">
          <strong>‚öôÔ∏è </strong>
          <span style="font-size:12px;color:var(--muted)">Configura√ß√µes</span>
        </button>
      </div>

      <!-- timeline -->
      <div class="section">
        <div class="section-title"><h2 style="color:var(--accent);margin:0">Linha do Tempo</h2></div>
        <div class="stack" id="steps">
          <div class="step" data-step="1">
            <h3>1Ô∏è‚É£ Coleta de informa√ß√µes iniciais</h3>
            <div class="meta">
              <p><strong>Status:</strong> Conclu√≠do ‚úÖ</p>
              <p>Informa√ß√µes fornecidas pela cliente Marta, incluindo comportamento suspeito do marido, hor√°rios, ve√≠culos e contatos dispon√≠veis.</p>
            </div>
          </div>

          <div class="step" data-step="2">
            <h3>2Ô∏è‚É£ Investiga√ß√£o online</h3>
            <div class="meta">
              <p><strong>Status:</strong> Atualizando üîÑ</p>
              <p>Verifica√ß√£o de atividades digitais e redes sociais. At√© o momento, n√£o foi encontrada evid√™ncia plaus√≠vel.</p>
            </div>
          </div>

          <div class="step" data-step="3">
            <h3>3Ô∏è‚É£ Investiga√ß√£o de campo</h3>
            <div class="meta">
              <p><strong>Status:</strong> Em andamento üîÑ</p>
              <p>Vigil√¢ncia presencial nos locais e hor√°rios indicados, como hotel e CEASA, para coleta de provas.</p>
            </div>
          </div>

          <div class="step" data-step="4">
            <h3>4Ô∏è‚É£ Coleta de evid√™ncias</h3>
            <div class="meta">
              <p><strong>Status:</strong> Parcial ‚úÖ</p>
              <p>Evid√™ncias j√° coletadas: imagens de refer√™ncia do hotel, Peugeot vermelho e CEASA. Mensagens da operadora ainda ser√£o inclu√≠das.</p>
            </div>
          </div>

          <div class="step" data-step="5">
            <h3>5Ô∏è‚É£ Relat√≥rio final</h3>
            <div class="meta">
              <p><strong>Status:</strong> Atualizando üîÑ</p>
              <p>Resumo e conclus√µes da investiga√ß√£o. Ser√° disponibilizado ao final do processo.</p>
            </div>
          </div>

          <div class="step" data-step="6">
            <h3>6Ô∏è‚É£ Contrato / Autoriza√ß√£o</h3>
            <div class="meta">
              <p><strong>Status:</strong> Inclu√≠do ‚úÖ</p>
              <p>Contrato de autoriza√ß√£o de investiga√ß√£o confidencial. Cliente pode assinar diretamente no painel.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- gallery -->
      <div class="section">
        <div class="section-title"><h2 style="color:var(--accent);margin:0">Evid√™ncias Visuais</h2></div>
        <div class="gallery" id="gallery">
          <div class="thumb"><img src="hotel-sallu.jpg" alt="Hotel Sallu"><p>Hotel Sallu ‚Äî fachada (refer√™ncia)</p></div>
          <div class="thumb"><img src="peugeot-vermelho.jpg" alt="Peugeot vermelho"><p>Peugeot vermelho ‚Äî refer√™ncia</p></div>
          <div class="thumb"><img src="ceasa.jpg" alt="CEASA"><p>CEASA ‚Äî local de poss√≠vel deslocamento</p></div>
          <div class="thumb"><img src="reconhecimento.jpg" alt="Reconhecimento facial"><p>Reconhecimento facial ‚Äî simula√ß√£o</p></div>
        </div>
      </div>

      <!-- contract + signature preview -->
      <div class="contract">
        <h3 style="margin:0;color:var(--accent)">Contrato r√°pido</h3>
        <p style="color:var(--muted);font-size:13px;margin-top:6px">Assine abaixo ou abra o contrato completo.</p>

        <div class="signature-preview" id="sigPreview">
          <!-- signature preview (if saved) -->
        </div>

        <div class="controls">
          <button id="openContractBtn" class="btn">Abrir Contrato</button>
          <button id="downloadSig" class="btn secondary">Baixar Assinatura</button>
        </div>
      </div>

      <div class="footer">Ag√™ncia Investigador ¬© 2025</div>
    </div>
  </div>

<script>
/* Intera√ß√µes */

// expand single step
document.querySelectorAll('.step').forEach(s=>{
  s.addEventListener('click',()=>{
    const open = s.classList.contains('open');
    document.querySelectorAll('.step').forEach(x=>{ x.classList.remove('open'); x.querySelector('.meta').style.display='none'; });
    if(!open){ s.classList.add('open'); s.querySelector('.meta').style.display='block'; }
  });
});

// quick buttons
document.getElementById('openTimeline').addEventListener('click',()=> {
  window.scrollTo({top:0,behavior:'smooth'});
});
document.getElementById('openGallery').addEventListener('click',()=> {
  const el = document.getElementById('gallery');
  el.scrollIntoView({behavior:'smooth'});
});
document.getElementById('openContract').addEventListener('click',()=> {
  window.location.href='contrato.html';
});
document.getElementById('openContractBtn').addEventListener('click',()=> window.location.href='contrato.html');

// logout
document.getElementById('btnLogout').addEventListener('click',()=> { location.href='index.html'; });

// signature preview from localStorage
function showSavedSignature(){
  const data = localStorage.getItem('assinatura_marta');
  const preview = document.getElementById('sigPreview');
  preview.innerHTML = '';
  if(data){
    const img = document.createElement('img');
    img.src = data;
    img.alt = 'Assinatura salva';
    preview.appendChild(img);
  } else {
    preview.innerHTML = '<p style="color:'+getComputedStyle(document.documentElement).getPropertyValue('--muted')+';font-size:13px;margin:6px 0">Nenhuma assinatura salva</p>';
  }
}
showSavedSignature();

// download signature (if exists)
document.getElementById('downloadSig').addEventListener('click',()=>{
  const data = localStorage.getItem('assinatura_marta');
  if(!data){ alert('Nenhuma assinatura salva. Abra o contrato e assine.'); return; }
  const a=document.createElement('a'); a.href=data; a.download='assinatura_marta.png'; a.click();
});
</script>
</body>
</html>
